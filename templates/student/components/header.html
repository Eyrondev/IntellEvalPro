<!-- Top Navigation -->
<header class="sticky top-0 z-30 bg-white border-b border-gray-200 shadow-sm safe-area-top">
  <div class="flex items-center justify-between px-3 sm:px-4 h-14 sm:h-16">
    <!-- Left: Menu toggle & breadcrumbs -->
    <div class="flex items-center">
      <!-- Mobile menu button -->
      <button id="menu-toggle" type="button" class="lg:hidden inline-flex items-center justify-center p-2 rounded-md text-gray-600 hover:text-gray-900 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 mobile-menu-btn min-h-[44px] min-w-[44px]">
        <i class="fas fa-bars w-4 sm:w-5 h-4 sm:h-5"></i>
      </button>
      
      <!-- Breadcrumbs -->
      <nav class="hidden sm:flex ml-2 sm:ml-4" aria-label="Breadcrumb">
        <ol class="inline-flex items-center space-x-1 md:space-x-3">
          <li class="inline-flex items-center">
            <a class="inline-flex items-center text-xs sm:text-sm font-medium text-gray-700">
              <i class="fas fa-home w-3 sm:w-4 h-3 sm:h-4 mr-1 sm:mr-2"></i>
              <span class="hidden sm:inline">Home</span>
            </a>
          </li>
          <li>
            <div class="flex items-center">
              <i class="fas fa-chevron-right w-2 sm:w-3 h-2 sm:h-3 text-gray-400 mx-1"></i>
              <span class="ml-1 text-xs sm:text-sm font-medium text-gray-500 truncate max-w-[120px] sm:max-w-none" id="current-page">Student Dashboard</span>
            </div>
          </li>
        </ol>
      </nav>
    </div>
    
    <!-- Right: Academic Year Display -->
    <div class="flex items-center">
      <!-- Academic Year & Semester Display -->
      <div class="flex items-center space-x-1">
        <span class="text-xs text-gray-500">Academic Year:</span>
        <span id="current-term-display" class="text-xs font-semibold text-primary-700 bg-primary-50 px-2 py-1 rounded">
          <i class="fas fa-spinner fa-spin mr-1"></i>Loading...
        </span>
      </div>
    </div>
  </div>
</header>

<script>
  // Store user role for navigation protection
  sessionStorage.setItem('user_role', 'student');
  
  // Load current academic term
  $(document).ready(function() {
    $.ajax({
      url: '/api/current-term',
      method: 'GET',
      success: function(response) {
        if (response.success && response.data) {
          const termDisplay = response.data.year_code && response.data.term_name 
            ? `${response.data.year_code} - ${response.data.term_name}`
            : (response.data.year_name || 'No Active Term');
          $('#current-term-display').html(termDisplay);
        } else {
          $('#current-term-display').html('No Active Term');
        }
      },
      error: function() {
        $('#current-term-display').html('2025-2026 - 1st Semester');
      }
    });
  });
</script>
